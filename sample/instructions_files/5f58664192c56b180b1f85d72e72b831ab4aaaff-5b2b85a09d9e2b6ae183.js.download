(self.webpackChunk_freecodecamp_client=self.webpackChunk_freecodecamp_client||[]).push([[4615],{84866:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return s(e)||c(e,t)||l(e,t)||p()}function s(e){if(Array.isArray(e))return e}function c(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(c){s=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function h(){}function f(){}f.resetWarningCache=h;var y=function(){function e(e,t,n,r,o,a){if(a!==d){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f,resetWarningCache:h};return n.PropTypes=n,n},g=m((function(e){e.exports=y()})),E=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},b=function(e){return null!==e&&"object"===o(e)},v=function(e){return b(e)&&"function"==typeof e.then},S=function(e){return b(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment},C="[object Object]",P=function e(t,n){if(!b(t)||!b(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===C;if(o!==(Object.prototype.toString.call(n)===C))return!1;if(!o&&!r)return t===n;var a=Object.keys(t),i=Object.keys(n);if(a.length!==i.length)return!1;for(var s={},c=0;c<a.length;c+=1)s[a[c]]=!0;for(var l=0;l<i.length;l+=1)s[i[l]]=!0;var u=Object.keys(s);if(u.length!==a.length)return!1;var p=t,m=n,d=function(t){return e(p[t],m[t])};return u.every(d)},w=function(e,t,n){return b(e)?Object.keys(e).reduce((function(o,i){var s=!b(t)||!P(e[i],t[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),o):s?r(r({},o||{}),{},a({},i,e[i])):o}),null):null},k="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",j=function(e){if(null===e||S(e))return e;throw new Error(k)},N=function(e){if(v(e))return{tag:"async",stripePromise:Promise.resolve(e).then(j)};var t=j(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},D=t.createContext(null);D.displayName="ElementsContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},x=t.createContext(null);x.displayName="CartElementContext";var M=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=function(e){var n=e.stripe,r=e.options,o=e.children,a=t.useMemo((function(){return N(n)}),[n]),s=i(t.useState(null),2),c=s[0],l=s[1],u=i(t.useState(null),2),p=u[0],m=u[1],d=i(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),h=d[0],f=d[1];t.useEffect((function(){var e=!0,t=function(e){f((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||h.stripe?"sync"!==a.tag||h.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,h,r]);var y=E(n);t.useEffect((function(){null!==y&&y!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[y,n]);var g=E(r);return t.useEffect((function(){if(h.elements){var e=w(r,g,["clientSecret","fonts"]);e&&h.elements.update(e)}}),[r,g,h.elements]),t.useEffect((function(){var e=h.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.5"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.5",url:"https://stripe.com/docs/stripe-js/react"}))}),[h.stripe]),t.createElement(D.Provider,{value:h},t.createElement(x.Provider,{value:{cart:c,setCart:l,cartState:p,setCartState:m}},o))},L=function(e){var n=t.useContext(D);return O(n,e)},B=function(e){var n=t.useContext(x);return M(n,e)},F=function(){return L("calls useElements()").elements},I=function(){return L("calls useStripe()").stripe},_=function(){return B("calls useCartElement()").cart},T=function(){return B("calls useCartElementState()").cartState},R=function(e){return(0,e.children)(L("mounts <ElementsConsumer>"))};R.propTypes={children:g.func.isRequired};var q=function(e,n,r){var o=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!o||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[o,n,e,a])},H=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=function(e,n){var r="".concat(H(e),"Element"),o=n?function(e){L("mounts <".concat(r,">")),B("mounts <".concat(r,">"));var n=e.id,o=e.className;return t.createElement("div",{id:n,className:o})}:function(n){var o,a=n.id,s=n.className,c=n.options,l=void 0===c?{}:c,u=n.onBlur,p=n.onFocus,m=n.onReady,d=n.onChange,h=n.onEscape,f=n.onClick,y=n.onLoadError,g=n.onLoaderStart,b=n.onNetworksChange,v=n.onCheckout,S=n.onLineItemClick,C=n.onConfirm,P=n.onCancel,k=n.onShippingAddressChange,j=n.onShippingRateChange,N=L("mounts <".concat(r,">")).elements,D=i(t.useState(null),2),O=D[0],x=D[1],M=t.useRef(null),A=t.useRef(null),F=B("mounts <".concat(r,">")),I=F.setCart,_=F.setCartState;q(O,"blur",u),q(O,"focus",p),q(O,"escape",h),q(O,"click",f),q(O,"loaderror",y),q(O,"loaderstart",g),q(O,"networkschange",b),q(O,"lineitemclick",S),q(O,"confirm",C),q(O,"cancel",P),q(O,"shippingaddresschange",k),q(O,"shippingratechange",j),"cart"===e?o=function(e){_(e),m&&m(e)}:m&&(o="payButton"===e?m:function(){m(O)}),q(O,"ready",o),q(O,"change","cart"===e?function(e){_(e),d&&d(e)}:d),q(O,"checkout","cart"===e?function(e){_(e),v&&v(e)}:v),t.useLayoutEffect((function(){if(null===M.current&&N&&null!==A.current){var t=N.create(e,l);"cart"===e&&I&&I(t),M.current=t,x(t),t.mount(A.current)}}),[N,l,I]);var T=E(l);return t.useEffect((function(){if(M.current){var e=w(l,T,["paymentRequest"]);e&&M.current.update(e)}}),[l,T]),t.useLayoutEffect((function(){return function(){M.current&&(M.current.destroy(),M.current=null)}}),[]),t.createElement("div",{id:a,className:s,ref:A})};return o.propTypes={id:g.string,className:g.string,onChange:g.func,onBlur:g.func,onFocus:g.func,onReady:g.func,onEscape:g.func,onClick:g.func,onLoadError:g.func,onLoaderStart:g.func,onNetworksChange:g.func,onCheckout:g.func,onLineItemClick:g.func,onConfirm:g.func,onCancel:g.func,onShippingAddressChange:g.func,onShippingRateChange:g.func,options:g.object},o.displayName=r,o.__elementType=e,o},U="undefined"==typeof window,W=z("auBankAccount",U),V=z("card",U),$=z("cardNumber",U),Z=z("cardExpiry",U),G=z("cardCvc",U),Y=z("fpxBank",U),J=z("iban",U),K=z("idealBank",U),Q=z("p24Bank",U),X=z("epsBank",U),ee=z("payment",U),te=z("payButton",U),ne=z("paymentRequestButton",U),re=z("linkAuthentication",U),oe=z("address",U),ae=z("shippingAddress",U),ie=z("cart",U),se=z("paymentMethodMessaging",U),ce=z("affirmMessage",U),le=z("afterpayClearpayMessage",U);e.AddressElement=oe,e.AffirmMessageElement=ce,e.AfterpayClearpayMessageElement=le,e.AuBankAccountElement=W,e.CardCvcElement=G,e.CardElement=V,e.CardExpiryElement=Z,e.CardNumberElement=$,e.CartElement=ie,e.Elements=A,e.ElementsConsumer=R,e.EpsBankElement=X,e.FpxBankElement=Y,e.IbanElement=J,e.IdealBankElement=K,e.LinkAuthenticationElement=re,e.P24BankElement=Q,e.PayButtonElement=te,e.PaymentElement=ee,e.PaymentMethodMessagingElement=se,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=_,e.useCartElementState=T,e.useElements=F,e.useStripe=I,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(37711))},74271:function(e,t,n){"use strict";n.d(t,{Z:function(){return oe}});var r=n(37711),o=n(1276),a=n(75672),i=n(99188),s=n.n(i),c=n(7836),l=n(56301),u=n.n(l),p=n(45727),m=n(87839),d=n(77189),h=n(98597),f=n(80235),y=n(88792),g=n(56174),E=n(41768);function b(e){let{processing:t,reset:n,success:a,redirecting:i,isSignedIn:c,error:l=null}=e;const{t:p}=(0,o.$G)(),m=t||i?"info":a?"success":"danger",d=i?""+p("donate.redirecting"):t?""+p("donate.processing"):a?""+p("donate.thank-you"):""+p("donate.error");return r.createElement(g.bZ,{variant:m,className:"donation-completion"},r.createElement("b",null,d),r.createElement(E.LZ,{size:"medium"}),r.createElement("div",{className:"donation-completion-body"},(t||i)&&r.createElement(s(),{className:"user-state-spinner",color:"#0a0a23",fadeIn:"none",name:"line-scale"}),a&&r.createElement("div",null,r.createElement("p",null,p("donate.free-tech")),c&&r.createElement("p",null,p("donate.no-halo"))),l&&r.createElement("p",null,l)),r.createElement("div",{className:"donation-completion-buttons"},l&&r.createElement("div",null,r.createElement(u(),{bsStyle:"primary",onClick:n},p("buttons.try-again")))))}b.displayName="DonateCompletion";var v=b,S=n(90048);const C=e=>r.createElement("svg",Object.assign({id:"patreon-logo",viewBox:"10 0 2560 356",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img","aria-labelledby":"patreon-logo-label"},e),r.createElement("title",{id:"patreon-logo-label"},"Patreon"),r.createElement("g",null,r.createElement("path",{d:"M1536.54 72.449v76.933h128.24v61.473h-128.24v74.51h128.24v62.921h-206.64V9.529h206.64v62.92h-128.24M2070.82 178.907c0-55.652-37.76-107.434-99.21-107.434-61.95 0-99.21 51.782-99.21 107.434s37.26 107.435 99.21 107.435c61.45 0 99.21-51.783 99.21-107.435zm-278.77 0c0-92.916 66.79-178.093 179.56-178.093 112.26 0 179.05 85.177 179.05 178.093 0 92.916-66.79 178.093-179.05 178.093-112.77 0-179.56-85.177-179.56-178.093zM186.32 131.97c0-31.46-21.299-58.563-54.206-58.563H78.398v117.109h53.716c32.907 0 54.206-27.086 54.206-58.546zM0 9.529h141.788c75.016 0 123.417 56.628 123.417 122.441s-48.401 122.423-123.417 122.423h-63.39v93.893H0V9.529zM492.17 106.314l-41.621 139.382h82.266L492.17 106.314zm73.081 241.972-13.054-41.134H431.69l-13.072 41.134h-83.73L455.882 9.529h72.105l122.442 338.757h-85.178zM782.055 77.277H705.61V9.529h231.793v67.748h-76.951v271.009h-78.397V77.277M2485.08 230.202V9.529h77.91v338.757h-81.78l-121.97-217.78v217.78h-78.4V9.529h81.78l122.46 220.673M1245.68 131.97c0-31.46-21.3-58.563-54.21-58.563h-53.72v117.109h53.72c32.91 0 54.21-27.086 54.21-58.546zM1059.36 9.529h142.29c75 0 123.4 56.628 123.4 122.441 0 47.425-25.17 89.517-67.28 109.369l67.77 106.947h-90.98l-60.03-93.893h-36.78v93.893h-78.39V9.529z"})));C.displayName="PatreonLogo";var P=C;const{patreonClientId:w}=S;var k=e=>{let{postPayment:t,donationAmount:n}=e;if(!w||!n||!p.es.successUrl)return null;const o="https://www.patreon.com/oauth2/become-patron?response_type=code"+("$&min_cents="+n)+("&client_id="+w)+("&redirect_uri="+p.es.successUrl)+"&scope=identity%20identity[email]";return r.createElement("a",{className:"patreon-button link-button","data-patreon-widget-type":"become-patron-button",href:o,onClick:()=>t({paymentProvider:p.OH.Patreon}),rel:"noreferrer",target:"_blank"},r.createElement(P,null))},j=n(1288),N=n(29791),D=n(61966);class O extends r.Component{constructor(){super(...arguments),this.state={isSdkLoaded:!!window.paypal,isSubscription:!0},this.onScriptLoad=()=>{this.setState({isSdkLoaded:!0}),this.props.onLoad()}}static getDerivedStateFromProps(e,t){const{isSubscription:n}=e;return n!==t.isSubscription?{isSubscription:n}:null}componentDidMount(){this.loadScript(this.props.isSubscription,!0)}componentWillUnmount(){(0,D.wc)("paypal-sdk")}componentDidUpdate(e){e.isSubscription===this.state.isSubscription&&e.style.color===this.props.style.color&&e.style.tagline===this.props.style.tagline&&e.style.height===this.props.style.height&&e.isMinimalForm===this.props.isMinimalForm||(this.setState({isSdkLoaded:!1}),this.loadScript(this.state.isSubscription,!0))}loadScript(e,t){t&&(0,D.wc)("paypal-sdk");const n=this.props.isMinimalForm?"card,":"";let r="?client-id="+this.props.clientId+"&disable-funding="+n+"credit,bancontact,blik,eps,giropay,ideal,mybank,p24,sepa,sofort,venmo";e&&(r+="&vault=true&intent=subscription"),(0,D.Vs)("paypal-sdk",!0,"https://www.paypal.com/sdk/js"+r,this.onScriptLoad,"paypal")}captureOneTimePayment(e,t){return t.order.capture().then((t=>this.props.onApprove(t,e)))}render(){const{isSdkLoaded:e,isSubscription:t}=this.state,{onApprove:n,onError:o,onCancel:a,createSubscription:i,createOrder:s,style:c}=this.props;if(!e)return r.createElement(r.Fragment,null);const l=window.paypal.Buttons.driver("react",{React:r,ReactDOM:N});return r.createElement(l,{createOrder:t?null:s,createSubscription:t?i:null,onApprove:t?(e,t)=>n(e,t):(e,t)=>this.captureOneTimePayment(e,t),onCancel:a,onError:o,style:c})}}O.displayName="PayPalButtonScriptLoader";const{paypalClientId:x,deploymentEnv:M}=S;class A extends r.Component{constructor(e){super(e),this.state={amount:p.M4.donationAmount,duration:p.M4.donationDuration,planId:null}}static getDerivedStateFromProps(e){const{donationAmount:t,donationDuration:n}=e;return{...(0,p.l7)(t,n,p.IQ[M||"staging"])}}render(){const{duration:e,planId:t,amount:n}=this.state,{t:o,theme:a,isPaypalLoading:i,isMinimalForm:s}=this.props,c="one-time"!==e,l=a===j.b.Night?"white":"gold";return x?r.createElement("div",{className:"paypal-buttons-container"},r.createElement(O,{clientId:x,createOrder:(e,t)=>t.order.create({purchase_units:[{amount:{currency_code:"USD",value:(n/100).toString()}}]}),createSubscription:(e,n)=>n.subscription.create({plan_id:t}),isMinimalForm:s,isPaypalLoading:i,isSubscription:c,onApprove:e=>{this.props.postPayment({paymentProvider:p.OH.Paypal,data:e})},onCancel:()=>{this.props.onDonationStateChange({redirecting:!1,processing:!1,success:!1,error:o("donate.failed-pay")})},onError:()=>{this.props.handlePaymentButtonLoad("paypal"),this.props.onDonationStateChange({redirecting:!1,processing:!1,success:!1,error:o("donate.try-again")})},onLoad:()=>this.props.handlePaymentButtonLoad("paypal"),planId:t,style:{tagline:!1,height:43,color:l}})):null}}A.displayName="PaypalButton";const L=(0,c.P1)(h.np,h.Kt,((e,t)=>{let{isDonating:n}=e;return{isDonating:n,showLoading:t}}));A.displayName="PaypalButton";var B=(0,a.$j)(L)((0,o.Zh)()(A)),F=(n(15752),n(84866)),I="https://js.stripe.com/v3",_=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,T="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",R=null,q=function(e){return null!==R||(R=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(T),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(I,'"]')),t=0;t<e.length;t++){var n=e[t];if(_.test(n.src))return n}return null}();r&&e?console.warn(T):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(I).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(o){return void n(o)}else t(null)}))),R},H=Promise.resolve().then((function(){return q(null)})),z=!1;H.catch((function(e){z||console.warn(e)}));var U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];z=!0;var r=Date.now();return H.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})}(r,n),r}(e,t,r)}))};const{stripePublicKey:W}=S,V=e=>{let{theme:t,t:n,onDonationStateChange:o,postPayment:a,processing:i}=e;const[s,c]=(0,r.useState)(!0),[l,m]=(0,r.useState)(!1),[d,h]=(0,r.useState)([{elementType:"cardNumber",complete:!1,error:null},{elementType:"cardExpiry",complete:!1,error:null}]),f=d.every((e=>{let{complete:t,error:n}=e;return t&&!n})),y=l||i,g=(0,F.useStripe)(),E=(0,F.useElements)();function b(e){const{elementType:t,error:n,complete:r}=e;h(d.map((e=>e.elementType===t?{elementType:t,error:n,complete:r}:e)))}const v={style:{base:{fontSize:"18px",color:t===j.b.Night?"#fff":"#0a0a23","::placeholder":{color:"#858591"}}}},S=async(e,t)=>g?g.confirmCardPayment(e,{payment_method:t}):{error:{type:"StripeNotLoaded"}};return r.createElement("form",{className:"donation-form",onSubmit:e=>{(async e=>{if(e.preventDefault(),!f)return c(!1);if(c(!0),!y&&g&&E){const e=E.getElement(F.CardNumberElement);if(e){m(!0);const{paymentMethod:t,error:r}=await g.createPaymentMethod({type:"card",card:e});r?o({redirecting:!1,processing:!1,success:!1,error:n("donate.went-wrong")}):t&&a({paymentProvider:p.OH.StripeCard,paymentMethodId:t.id,handleAuthentication:S})}}m(!1)})(e)}},r.createElement("div",{className:"donation-elements"+(s?"":" failed-submission")},r.createElement(F.CardNumberElement,{className:"form-control donate-input-element",onChange:b,options:v}),r.createElement(F.CardExpiryElement,{className:"form-control donate-input-element",onChange:b,options:v})),r.createElement("div",{className:"form-status"},!s&&r.createElement("p",null,n("donate.valid-card"))),r.createElement(u(),{block:!0,bsStyle:"primary",className:"confirm-donation-btn",disabled:!g||!E||y,type:"submit"},n("buttons.donate")))};var $=e=>W?r.createElement(F.Elements,{stripe:U(W)},r.createElement(V,e)):null;const{stripePublicKey:Z}=S,G=e=>{let{stripe:t,label:n,amount:o,theme:a,refreshErrorMessage:i,postPayment:s,onDonationStateChange:c,handlePaymentButtonLoad:l}=e;const[u,m]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!t)return;const e=t.paymentRequest({country:"US",currency:"usd",total:{label:n,amount:o},requestPayerName:!0,requestPayerEmail:!0,disableWallets:["browserCard"]});e.on("token",(e=>{const{token:t,payerEmail:n,payerName:r}=e;m(t),e.complete("success"),s({paymentProvider:p.OH.Stripe,token:t,payerEmail:n,payerName:r})})),e.canMakePayment().then((t=>{t?(h(e),y(!0)):y(!1)}))}),[n,o,t,s,l]);return r.createElement("form",{className:"wallets-form"},f&&d&&r.createElement(F.PaymentRequestButtonElement,{onClick:()=>{u&&c({redirecting:!1,processing:!1,success:!1,error:i})},onReady:()=>l("stripe"),options:{style:{paymentRequestButton:{type:"default",theme:a===j.b.Night?"light":"dark",height:"43px"}},paymentRequest:d}}))},Y=e=>r.createElement(F.ElementsConsumer,null,(t=>{let{stripe:n}=t;return r.createElement(G,Object.assign({stripe:n},e))}));var J=e=>{if(Z){const t=U(Z);return r.createElement(F.Elements,{stripe:t},r.createElement(Y,e))}return null},K=n(84409),Q=n(73891);var X=()=>r.createElement(r.Fragment,null,r.createElement(Q.G,{icon:K.byT}),"  ");const ee=(0,c.P1)(h.Kt,h.Qi,h.qm,h.cX,h.np,h.Fx,((e,t,n,r,o,a)=>{let{email:i,theme:s}=o;return{isSignedIn:t,isDonating:n,showLoading:e,donationFormState:r,email:i,theme:s,completedChallenges:a}})),te={postCharge:d.Ys,updateDonationFormState:d.Nb},ne=()=>r.createElement("div",{className:" donation-completion donation-completion-loading"},r.createElement(s(),{className:"script-loading-spinner",fadeIn:"none",name:"line-scale"}));class re extends r.Component{constructor(e){super(e),this.postPayment=e=>{let{paymentProvider:t,data:n,payerEmail:r,payerName:o,token:a,paymentMethodId:i,handleAuthentication:s}=e;const{donationAmount:c,donationDuration:l}=this.state,{paymentContext:u,email:p,selectedDonationAmount:m}=this.props,d=m||c;this.props.postCharge({paymentProvider:t,paymentContext:u,amount:d,duration:l,data:n,token:a,email:p||r,name:o,paymentMethodId:i,handleAuthentication:s}),this.props.handleProcessing&&this.props.handleProcessing()};const t=p.M4;this.state={...t},this.onDonationStateChange=this.onDonationStateChange.bind(this),this.resetDonation=this.resetDonation.bind(this),this.postPayment=this.postPayment.bind(this),this.handlePaymentButtonLoad=this.handlePaymentButtonLoad.bind(this)}componentWillUnmount(){this.resetDonation()}onDonationStateChange(e){window.scrollTo(0,0),this.props.updateDonationFormState({...this.props.donationFormState,...e})}handlePaymentButtonLoad(e){this.props.updateDonationFormState({...this.props.donationFormState,loading:{...this.props.donationFormState.loading,[e]:!1}})}resetDonation(){return this.props.updateDonationFormState({...m.g$})}renderButtonGroup(){const{donationAmount:e,donationDuration:t}=this.state,{donationFormState:{loading:n,processing:o},defaultTheme:a,theme:i,t:s,isMinimalForm:c,isSignedIn:l,isDonating:p,editAmount:m,selectedDonationAmount:d,completedChallenges:h}=this.props,g=d||e,E=a||i,b=s("donate.wallet-label-1",{usd:g/y.BR})+":",v=h.length>=3,S=l&&(c||!p)&&v,C=s("donate.confirm-monthly",{usd:(0,y.zH)(g)}),P=r.createElement(r.Fragment,null,s("donate.confirm-multitier",{usd:(0,y.zH)(g)}),r.createElement(u(),{bsStyle:"primary",className:"btn-link",onClick:m},s("donate.edit-amount")));return r.createElement(r.Fragment,null,r.createElement("b",{className:m?"edit-amount-confirmation":c?"donation-label-modal":""},m?P:C),r.createElement(f.Z,{size:m?"small":"medium"}),r.createElement("fieldset",{className:"donate-btn-group security-legend"},r.createElement("legend",null,r.createElement(X,null),s("donate.secure-donation")),n.stripe&&n.paypal&&r.createElement(ne,null),r.createElement(J,{amount:g,handlePaymentButtonLoad:this.handlePaymentButtonLoad,label:b,onDonationStateChange:this.onDonationStateChange,postPayment:this.postPayment,refreshErrorMessage:s("donate.refresh-needed"),theme:E}),r.createElement(B,{donationAmount:g,donationDuration:t,handlePaymentButtonLoad:this.handlePaymentButtonLoad,postPayment:this.postPayment,isMinimalForm:S,isPaypalLoading:n.paypal,onDonationStateChange:this.onDonationStateChange,theme:E}),(!n.stripe||!n.paypal)&&r.createElement(k,{postPayment:this.postPayment,donationAmount:g}),S&&r.createElement(r.Fragment,null,r.createElement("div",{className:"separator"},s("donate.or-card")),r.createElement($,{onDonationStateChange:this.onDonationStateChange,postPayment:this.postPayment,processing:o,t:s,theme:E}))))}renderPageForm(){const{donationAmount:e}=this.state,{t:t}=this.props,n=t("donate.your-donation-2",{usd:(0,y.zH)(e),hours:(0,y.gx)(e)});return r.createElement(r.Fragment,null,r.createElement("p",{className:"donation-description"},n),r.createElement("div",null,this.renderButtonGroup()))}render(){const{donationFormState:{processing:e,success:t,error:n,redirecting:o},isMinimalForm:a,isSignedIn:i}=this.props;return t||n?r.createElement(v,{processing:e,redirecting:o,success:t,error:n,isSignedIn:i,reset:this.resetDonation}):r.createElement(r.Fragment,null,(e||o)&&r.createElement(v,{processing:e,redirecting:o,success:t,error:n,isSignedIn:i,reset:this.resetDonation}),r.createElement("div",{className:e||o?"hide":""},a?this.renderButtonGroup():this.renderPageForm()))}}re.displayName="DonateForm",re.displayName="DonateForm";var oe=(0,a.$j)(ee,te)((0,o.Zh)()(re))},88792:function(e,t,n){"use strict";n.d(t,{BR:function(){return o},gx:function(){return a},zH:function(){return i}});const r=e=>Intl.NumberFormat("en-US").format(e),o=100,a=e=>r(e/o*50),i=e=>r(e/o)},61966:function(e,t,n){"use strict";function r(e,t,n,r,o){const a=document.createElement("script");a.type="text/javascript",a.id=e,a.async=t,a.onload=r,a.src=n,a.text=o,document.getElementsByTagName("head")[0].appendChild(a)}function o(e){const t=document.getElementById(e);t&&t.remove()}function a(){r("mathjax",!1,"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML",null,"MathJax.Hub.Config({\n      tex2jax: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],\n        processEscapes: true,\n        processClass: 'rosetta-code|project-euler|intermediate-algorithm-scripting'\n      }\n    });\n    MathJax.Hub.Queue([\n      'Typeset',\n      MathJax.Hub,\n      document.querySelector('intermediate-algorithm-scripting'),\n      document.querySelector('.rosetta-code'),\n      document.querySelector('.project-euler')\n    ]);")}n.d(t,{LE:function(){return a},Vs:function(){return r},wc:function(){return o}})}}]);
//# sourceMappingURL=5f58664192c56b180b1f85d72e72b831ab4aaaff-5b2b85a09d9e2b6ae183.js.map